## Username Enumeration
We will use ffuf to create POST requests and seeing which usernames do exist depending on the server response.

### Username enumeration using ffuf
`ffuf -w /usr/share/wordlists/SecLists/Usernames/Names/names.txt -X POST -d "username=FUZZ&email=x&passwordx&cpassword=x" -H "Content-Type: application/x-www-form-urlencoded" -u http:10.10.68.114/customers/signup -mr "username already exists"

In the above example, the `-w` argument selects the file's location on the computer that contains the list of usernames that we're going to check exists. The `-X` argument specifies the request method, this will be a GET request by default, but it is a POST request in our example. The `-d` argument specifies the data that we are going to send. In our example, we have the fields username, email, password and cpassword. We've set the value of the username to **FUZZ**. In the ffuf tool, the FUZZ keyword signifies where the contents from our wordlist will be inserted in the request. The `-H` argument is used for adding additional headers to the request. In this instance, we're setting the `Content-Type` to the webserver knows we are sending form data. The `-u` argument specifies the URL we are making the request to, and finally, the `-mr` argument is the text on the page we are looking for to validate we've found a valid username.

## Username Bruteforcing (with password dictionary)
With a dictionary, we can attempt a brute-force attack on the login page.
Now we are using the usernames we got in the enumeration **WITH A DICTIONARY OF COMMON PASSWORDS** to try to get a login.

Example:
```shell-session
ffuf -w valid_usernames.txt:W1,/usr/share/wordlists/SecLists/Passwords/Common-Credentials/10-million-password-list-top-100.txt:W2 -X POST -d "username=W1&password=W2" -H "Content-Type: application/x-www-form-urlencoded" -u http://10.10.68.114/customers/login -fc 200
```

This way we are using 2 dictionaries, one with the users and the other one with the passwords.

## Cookie Tampering
We can do a get request using changed cookies to "emulate" an admin privileges, etc.
This is called "Cookie tampering"
With a single cURL we can tamper:

```shell-session
curl -H "Cookie: logged_in=true; admin=true" http://10.10.68.114/cookie-test
```

Remember cookies can be hashed or encrypted.
We have tools for dehashing and desencrypting.
They are, for example, https://crackstation.net/ and https://www.base64encode.org/